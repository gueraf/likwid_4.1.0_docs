<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LIKWID: Access module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LIKWID
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Access module</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab22d35ed086a478dd91e93ac78037f40"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Access.html#gab22d35ed086a478dd91e93ac78037f40">AccessMode</a> { <a class="el" href="group__Access.html#ggab22d35ed086a478dd91e93ac78037f40a3d69f4b5587040e452d12494bb6ae79b">ACCESSMODE_DIRECT</a> = 0, 
<a class="el" href="group__Access.html#ggab22d35ed086a478dd91e93ac78037f40aee38d8bf9593a6062f44405669197dd7">ACCESSMODE_DAEMON</a> = 1
 }<tr class="memdesc:gab22d35ed086a478dd91e93ac78037f40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum for the access modes.  <a href="group__Access.html#gab22d35ed086a478dd91e93ac78037f40">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gab22d35ed086a478dd91e93ac78037f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac5d111e4b3557f68a41d2ca70196c811"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Access.html#gac5d111e4b3557f68a41d2ca70196c811">HPMaddThread</a> (int cpu_id) <a class="el" href="group__PowerMon.html#ga831e87005a48426483b681a4c7f607c8">__attribute__</a>((visibility(&quot;default&quot;)))</td></tr>
<tr class="memdesc:gac5d111e4b3557f68a41d2ca70196c811"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add CPU to access module.  <a href="#gac5d111e4b3557f68a41d2ca70196c811">More...</a><br /></td></tr>
<tr class="separator:gac5d111e4b3557f68a41d2ca70196c811"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d8ced667297afbe975d50a4d985d57b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Access.html#ga0d8ced667297afbe975d50a4d985d57b">HPMfinalize</a> () <a class="el" href="group__PowerMon.html#ga831e87005a48426483b681a4c7f607c8">__attribute__</a>((visibility(&quot;default&quot;)))</td></tr>
<tr class="memdesc:ga0d8ced667297afbe975d50a4d985d57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close connections.  <a href="#ga0d8ced667297afbe975d50a4d985d57b">More...</a><br /></td></tr>
<tr class="separator:ga0d8ced667297afbe975d50a4d985d57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90edc277fb892c5dbbb5fcf397581d50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Access.html#ga90edc277fb892c5dbbb5fcf397581d50">HPMinit</a> () <a class="el" href="group__PowerMon.html#ga831e87005a48426483b681a4c7f607c8">__attribute__</a>((visibility(&quot;default&quot;)))</td></tr>
<tr class="memdesc:ga90edc277fb892c5dbbb5fcf397581d50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize access module.  <a href="#ga90edc277fb892c5dbbb5fcf397581d50">More...</a><br /></td></tr>
<tr class="separator:ga90edc277fb892c5dbbb5fcf397581d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5428737519f6ff636b5f6cd56d0c0350"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Access.html#ga5428737519f6ff636b5f6cd56d0c0350">HPMmode</a> (int mode) <a class="el" href="group__PowerMon.html#ga831e87005a48426483b681a4c7f607c8">__attribute__</a>((visibility(&quot;default&quot;)))</td></tr>
<tr class="memdesc:ga5428737519f6ff636b5f6cd56d0c0350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set access mode.  <a href="#ga5428737519f6ff636b5f6cd56d0c0350">More...</a><br /></td></tr>
<tr class="separator:ga5428737519f6ff636b5f6cd56d0c0350"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gab22d35ed086a478dd91e93ac78037f40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__Access.html#gab22d35ed086a478dd91e93ac78037f40">AccessMode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enum for the access modes. </p>
<p>LIKWID supports multiple access modes to the MSR and PCI performance monitoring registers. For direct access the user must have enough priviledges to access the MSR and PCI devices. The daemon mode forwards the operations to a daemon with higher priviledges. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggab22d35ed086a478dd91e93ac78037f40a3d69f4b5587040e452d12494bb6ae79b"></a>ACCESSMODE_DIRECT&#160;</td><td class="fielddoc">
<p>Access performance monitoring registers directly. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggab22d35ed086a478dd91e93ac78037f40aee38d8bf9593a6062f44405669197dd7"></a>ACCESSMODE_DAEMON&#160;</td><td class="fielddoc">
<p>Use the access daemon to access the registers. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac5d111e4b3557f68a41d2ca70196c811"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HPMaddThread </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cpu_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add CPU to access module. </p>
<p>Add the given CPU to the access module. This opens the commnunication to either the MSR/PCI files or the access daemon. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cpu_id</td><td>CPU that should be enabled for measurements </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error code (0 for success, -ENODEV if access cannot be initialized </dd></dl>

</div>
</div>
<a class="anchor" id="ga0d8ced667297afbe975d50a4d985d57b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HPMfinalize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close connections. </p>
<p>Close the connections to the MSR/PCI files or the access daemon </p>

</div>
</div>
<a class="anchor" id="ga90edc277fb892c5dbbb5fcf397581d50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int HPMinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize access module. </p>
<p>Initialize the module internals to either the MSR/PCI files or the access daemon </p><dl class="section return"><dt>Returns</dt><dd>error code (0 for sccess) </dd></dl>

</div>
</div>
<a class="anchor" id="ga5428737519f6ff636b5f6cd56d0c0350"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HPMmode </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set access mode. </p>
<p>Sets the mode how the MSR and PCI registers should be accessed. 0 for direct access (propably root priviledges required) and 1 for accesses through the access daemon. It must be called before <a class="el" href="group__Access.html#ga90edc277fb892c5dbbb5fcf397581d50" title="Initialize access module. ">HPMinit()</a> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>(0=direct, 1=daemon) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 21 2016 18:03:00 for LIKWID by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
